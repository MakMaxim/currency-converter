(function(){"use strict";var e={482:function(e,r,t){var n=t(963),a=t(252);const c={class:"wrapper"},o={class:"container"};function u(e,r,t,n,u,s){const i=(0,a.up)("converter-page"),l=(0,a.up)("rates-page");return(0,a.wg)(),(0,a.iD)("div",c,[(0,a._)("div",o,[(0,a.Wm)(i,{data:u.data},null,8,["data"]),(0,a.Wm)(l,{data:u.data,currencies:u.currencies,onAdd:s.add_currency,onRemove:s.remove_currency},null,8,["data","currencies","onAdd","onRemove"])])])}var s=t(577);const i=e=>((0,a.dD)("data-v-d6878584"),e=e(),(0,a.Cn)(),e),l={class:"converter"},d=i((()=>(0,a._)("h1",null,"Конвертер валют",-1))),_={class:"converter__block"},v={class:"converter__from"},y={class:"converter__to"};function m(e,r,t,c,o,u){return(0,a.wg)(),(0,a.iD)("div",l,[d,(0,a._)("div",_,[(0,a._)("div",v,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":r[0]||(r[0]=e=>o.currency_from=e),name:"currency-from",class:"converter__select select",onChange:r[1]||(r[1]=(...e)=>u.conversion_change&&u.conversion_change(...e))},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.data.Valute,((e,r)=>((0,a.wg)(),(0,a.iD)("option",{key:r},(0,s.zw)(e.CharCode),1)))),128))],544),[[n.bM,o.currency_from]]),(0,a.wy)((0,a._)("input",{type:"number",name:"input-from",class:"converter__input-from","onUpdate:modelValue":r[2]||(r[2]=e=>o.value_from=e),onInput:r[3]||(r[3]=(...e)=>u.conversion&&u.conversion(...e))},null,544),[[n.nr,o.value_from]])]),(0,a._)("div",y,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":r[4]||(r[4]=e=>o.currency_to=e),name:"currency-to",class:"converter__select select",onChange:r[5]||(r[5]=(...e)=>u.conversion_change&&u.conversion_change(...e))},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.data.Valute,((e,r)=>((0,a.wg)(),(0,a.iD)("option",{key:r},(0,s.zw)(e.CharCode),1)))),128))],544),[[n.bM,o.currency_to]]),(0,a.wy)((0,a._)("input",{type:"number",name:"input-to",class:"converter__input-to",disabled:"",placeholder:"0","onUpdate:modelValue":r[6]||(r[6]=e=>o.value_to=e)},null,512),[[n.nr,o.value_to]])])])])}var h={props:{data:{type:Object,required:!0}},data(){return{currency_from:"USD",currency_to:"RUB",value_from:0,value_to:0}},methods:{calculationValueTwo(){this.value_to=(this.value_from*this.data.Valute[this.currency_from].Value/this.data.Valute[this.currency_to].Value/this.data.Valute[this.currency_from].Nominal).toFixed(4)},conversion(){this.calculationValueTwo()},conversion_change(){this.value_from=1,this.calculationValueTwo()}}},p=t(744);const f=(0,p.Z)(h,[["render",m],["__scopeId","data-v-d6878584"]]);var b=f;const w=e=>((0,a.dD)("data-v-e8da9f52"),e=e(),(0,a.Cn)(),e),g={class:"rates"},C=w((()=>(0,a._)("h1",null,"Курсы валют",-1))),V={class:"rates__currency-base"},D=w((()=>(0,a._)("p",{class:"rates__subtitle"},"Базовая валюта",-1))),k={class:"rates__add-currency"},O=w((()=>(0,a._)("p",{class:"rates__subtitle"},"Добавить валюту",-1))),j=w((()=>(0,a._)("p",null,"Добавить",-1))),U=[j],R={class:"rates__items"};function q(e,r,t,c,o,u){const i=(0,a.up)("rates-item");return(0,a.wg)(),(0,a.iD)("div",g,[C,(0,a._)("div",V,[D,(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":r[0]||(r[0]=e=>o.currency_base=e),name:"currency-base",class:"rates__select select"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.data.Valute,((e,r)=>((0,a.wg)(),(0,a.iD)("option",{key:r},(0,s.zw)(e.CharCode),1)))),128))],512),[[n.bM,o.currency_base]])]),(0,a._)("div",k,[O,(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":r[1]||(r[1]=e=>o.currency_add=e),name:"currency-add",class:"rates__select-add select"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.data.Valute,((e,r)=>((0,a.wg)(),(0,a.iD)("option",{key:r},(0,s.zw)(e.CharCode),1)))),128))],512),[[n.bM,o.currency_add]]),(0,a._)("button",{class:"rates__add-btn",onClick:r[2]||(r[2]=(...e)=>u.add_currency&&u.add_currency(...e))},U)]),(0,a._)("div",R,[(0,a.Wm)(n.W3,{name:"rates__items"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.currencies,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.data.Valute,(r=>((0,a.wg)(),(0,a.j4)(i,{key:r.CharCode,currency:r,cur:e,currency_base:o.currency_base,data:t.data,onRemove:u.remove_currency},null,8,["currency","cur","currency_base","data","onRemove"])))),128))])))),128))])),_:1})])])}const x=e=>((0,a.dD)("data-v-8959c7bc"),e=e(),(0,a.Cn)(),e),P={key:0,class:"rates__item item"},z={class:"item__title"},I={class:"item__value"},B=x((()=>(0,a._)("p",null,"Удалить валюту",-1))),H=[B];function K(e,r,t,n,c,o){return t.cur===t.currency.CharCode&&this.currency_base!==t.currency.CharCode?((0,a.wg)(),(0,a.iD)("div",P,[(0,a._)("div",z,(0,s.zw)(t.currency.CharCode),1),(0,a._)("div",I,(0,s.zw)((t.currency.Value/t.currency.Nominal/this.data.Valute[this.currency_base].Value).toFixed(4)),1),(0,a._)("div",{class:(0,s.C_)(["item__progress",o.progress_value(t.currency)>0?"green":"red"])},(0,s.zw)(o.progress_value(t.currency)),3),(0,a._)("button",{class:"item__remove",onClick:r[0]||(r[0]=e=>o.remove_currency(t.currency))},H)])):(0,a.kq)("",!0)}var N={props:{currency:{type:Object,required:!0},cur:{type:String,required:!0},currency_base:{type:String,required:!0},data:{type:Object,required:!0}},methods:{remove_currency(e){this.$emit("remove",e)},progress_value(e){return((e.Value/this.data.Valute[this.currency_base].Value-e.Previous/this.data.Valute[this.currency_base].Previous)/e.Nominal).toFixed(4)}}};const Y=(0,p.Z)(N,[["render",K],["__scopeId","data-v-8959c7bc"]]);var T=Y,F={components:{RatesItem:T},props:{data:{type:Object,required:!0},currencies:{type:Array,required:!0}},data(){return{currency_base:"RUB",base_value:0,currency_add:""}},methods:{add_currency(){this.$emit("add",this.currency_add)},remove_currency(e){this.$emit("remove",e)}}};const M=(0,p.Z)(F,[["render",q],["__scopeId","data-v-e8da9f52"]]);var S=M,W={components:{ConverterPage:b,RatesPage:S},data(){return{data:[],currencies:["RUB","USD","EUR","GBP"]}},methods:{fetchData(){fetch("https://www.cbr-xml-daily.ru/daily_json.js").then((e=>e.json())).then((e=>{e.Valute.RUB={CharCode:"RUB",ID:"Rub",Name:"Российский рубль",Nominal:1,NumCode:"643",Previous:1,Value:1},this.data=e}))},add_currency(e){this.currencies.includes(e)||this.currencies.push(e)},remove_currency(e){this.currencies=this.currencies.filter((r=>r!==e.CharCode))}},mounted(){this.fetchData(),setInterval((()=>{this.fetchData()}),6e4)}};const Z=(0,p.Z)(W,[["render",u]]);var A=Z;(0,n.ri)(A).mount("#app")}},r={};function t(n){var a=r[n];if(void 0!==a)return a.exports;var c=r[n]={exports:{}};return e[n](c,c.exports,t),c.exports}t.m=e,function(){var e=[];t.O=function(r,n,a,c){if(!n){var o=1/0;for(l=0;l<e.length;l++){n=e[l][0],a=e[l][1],c=e[l][2];for(var u=!0,s=0;s<n.length;s++)(!1&c||o>=c)&&Object.keys(t.O).every((function(e){return t.O[e](n[s])}))?n.splice(s--,1):(u=!1,c<o&&(o=c));if(u){e.splice(l--,1);var i=a();void 0!==i&&(r=i)}}return r}c=c||0;for(var l=e.length;l>0&&e[l-1][2]>c;l--)e[l]=e[l-1];e[l]=[n,a,c]}}(),function(){t.d=function(e,r){for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)}}(),function(){var e={143:0};t.O.j=function(r){return 0===e[r]};var r=function(r,n){var a,c,o=n[0],u=n[1],s=n[2],i=0;if(o.some((function(r){return 0!==e[r]}))){for(a in u)t.o(u,a)&&(t.m[a]=u[a]);if(s)var l=s(t)}for(r&&r(n);i<o.length;i++)c=o[i],t.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return t.O(l)},n=self["webpackChunkcurrency_converter"]=self["webpackChunkcurrency_converter"]||[];n.forEach(r.bind(null,0)),n.push=r.bind(null,n.push.bind(n))}();var n=t.O(void 0,[998],(function(){return t(482)}));n=t.O(n)})();
//# sourceMappingURL=app.e6cdb2d6.js.map